00000000                                     1  *Scrivere un programma assembly per contare il numero di bit alti in una word, 
00000000                                     2  *utilizzando un sottoprogramma che conta il numero di bit alti in un byte.
00000000                                     3  
00008000                                     4      ORG $8000
00008000  000E                               5  VET DC.W    14
00008002                                     6  *dichiaro il vettore contenente 14
00008002                                     7  
00008002                                     8  *inserisco il sottoprogramma per il conteggio
00008002                                     9  COUNT   
00008002  4E56 0000                         10          LINK A6,#0
00008006  3F40 0002                         11          MOVE.W D0,2(SP)
0000800A  4240                              12          CLR D0
0000800C  3001                              13          MOVE.W D1,D0
0000800E  5240                              14          ADD #1,D0
00008010  3200                              15          MOVE.W D0,D1
00008012  302E 0002                         16          MOVE.W 2(A6),D0
00008016  4E5E                              17          UNLK A6
00008018  4E75                              18          RTS
00008100                                    19      ORG $8100
00008100                                    20  START
00008100                                    21  *creo il puntatore alla prima variabile del vettore
00008100  41F9 00008000                     22      LEA VET,A0
00008106  3010                              23      MOVE.W (A0),D0
00008108                                    24  *sposto il valore del primo elemento del vettore nel registro D0
00008108  4241                              25      CLR.W   D1
0000810A                                    26  *creo un loop in cui mediante lo shift register controlliamo il numero di bit pari ad 1
0000810A                                    27  *il numero bit pari ad 1 vengono salvati nel registro D1
0000810A  E248                              28  LOOP    LSR #1,D0
0000810C  4EB9 00008002                     29          JSR COUNT
00008112  B07C 0000                         30          CMP #0,D0
00008116  66F2                              31      BNE LOOP
00008118                                    32  
00008118                                    33  
00008118                                    34  
00008118                                    35  
00008118                                    36      END START

No errors detected
No warnings generated
